<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.*?>

<ScrollPane xmlns:fx="http://javafx.com/fxml" fx:controller="drivesync.SajatAutokController"
            fitToWidth="true" hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
            style="-fx-background: #f4f4f4;" prefWidth="1000" prefHeight="700">

    <content>
        <VBox spacing="25" alignment="TOP_CENTER" style="-fx-background-color: #f4f4f4;" prefWidth="Infinity">

            <!-- FelsÅ‘ cÃ­m -->
            <Label fx:id="welcomeLabel" text="Itt a sajÃ¡t autÃ³id listÃ¡ja:"
                   style="-fx-font-size: 22px; -fx-font-weight: bold; -fx-text-fill: #222;"
                   alignment="CENTER">
                <padding>
                    <Insets top="25" bottom="5"/>
                </padding>
            </Label>

            <!-- AutÃ³ kÃ¡rtyÃ¡k -->
            <ScrollPane fx:id="carsScrollPane" fitToHeight="false" fitToWidth="true"
                        hbarPolicy="NEVER" vbarPolicy="NEVER"
                        style="-fx-background-color: transparent;"
                        maxHeight="250">
                <content>
                    <FlowPane fx:id="carsList" hgap="24" vgap="24" alignment="CENTER"
                              style="-fx-background-color: transparent; -fx-padding: 20;">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>
                    </FlowPane>
                </content>
            </ScrollPane>

            <!-- NavigÃ¡ciÃ³ gombok -->
            <HBox spacing="15" alignment="CENTER">
                <Button fx:id="scrollLeftBtn" text="â­ " onAction="#scrollLeft"
                        style="-fx-background-color: #e0e0e0; -fx-font-weight: bold; -fx-font-size: 16px; -fx-background-radius: 8;"/>
                <Button fx:id="scrollRightBtn" text="â­¢" onAction="#scrollRight"
                        style="-fx-background-color: #e0e0e0; -fx-font-weight: bold; -fx-font-size: 16px; -fx-background-radius: 8;"/>
                <Button fx:id="generatePdfBtn" text="PDF generÃ¡lÃ¡sa" onAction="#handleGeneratePdf"
                        style="-fx-background-color: #FF5722; -fx-text-fill: white; -fx-font-weight: bold; -fx-font-size: 14px; -fx-background-radius: 8;"/>
            </HBox>

            <!-- Ãšj autÃ³ hozzÃ¡adÃ¡sa -->
            <TitledPane fx:id="addCarTitledPane" text="âž• Ãšj autÃ³ hozzÃ¡adÃ¡sa" expanded="false"
                        style="-fx-font-weight: bold; -fx-font-size: 16px;" maxWidth="850">
                <content>
                    <VBox spacing="18" style="-fx-background-color: #ffffff; -fx-background-radius: 10;
                                               -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                        <Label fx:id="formTitle" text="Ãšj autÃ³ hozzÃ¡adÃ¡sa"
                               style="-fx-font-size: 18px; -fx-font-weight: bold; -fx-text-fill: #222;"/>

                        <GridPane hgap="15" vgap="12">
                            <columnConstraints>
                                <ColumnConstraints halignment="RIGHT" maxWidth="150"/>
                                <ColumnConstraints hgrow="ALWAYS" maxWidth="400"/>
                            </columnConstraints>

                            <!-- AutÃ³ mezÅ‘k -->
                            <Label text="RendszÃ¡m:*" GridPane.rowIndex="0" GridPane.columnIndex="0" wrapText="true"/>
                            <TextField fx:id="licenseField" GridPane.rowIndex="0" GridPane.columnIndex="1" maxWidth="400"/>

                            <Label text="MÃ¡rka:*" GridPane.rowIndex="1" GridPane.columnIndex="0" wrapText="true"/>
                            <ComboBox fx:id="brandCombo" editable="true" GridPane.rowIndex="1" GridPane.columnIndex="1" maxWidth="400"/>

                            <Label text="TÃ­pus:*" GridPane.rowIndex="2" GridPane.columnIndex="0" wrapText="true"/>
                            <ComboBox fx:id="typeCombo" editable="true" GridPane.rowIndex="2" GridPane.columnIndex="1" maxWidth="400"/>

                            <Label text="Ã‰vjÃ¡rat:" GridPane.rowIndex="3" GridPane.columnIndex="0" wrapText="true"/>
                            <ChoiceBox fx:id="vintageField" GridPane.rowIndex="3" GridPane.columnIndex="1" maxWidth="150"/>

                            <Label text="Motor tÃ­pusa:" GridPane.rowIndex="4" GridPane.columnIndex="0" wrapText="true"/>
                            <TextField fx:id="engineTypeField" GridPane.rowIndex="4" GridPane.columnIndex="1" maxWidth="200"/>

                            <Label text="Ãœzemanyag:" GridPane.rowIndex="5" GridPane.columnIndex="0" wrapText="true"/>
                            <ChoiceBox fx:id="fuelTypeField" GridPane.rowIndex="5" GridPane.columnIndex="1" maxWidth="150"/>

                            <Label text="FutÃ¡steljesÃ­tmÃ©ny:" GridPane.rowIndex="6" GridPane.columnIndex="0" wrapText="true"/>
                            <TextField fx:id="kmField" GridPane.rowIndex="6" GridPane.columnIndex="1" maxWidth="150"/>

                            <Label text="Olaj mennyisÃ©g (ml):" GridPane.rowIndex="7" GridPane.columnIndex="0" wrapText="true"/>
                            <TextField fx:id="oilField" GridPane.rowIndex="7" GridPane.columnIndex="1" maxWidth="150"/>

                            <Label text="Gumi mÃ©ret:" GridPane.rowIndex="8" GridPane.columnIndex="0" wrapText="true"/>
                            <TextField fx:id="tireSizeField" GridPane.rowIndex="8" GridPane.columnIndex="1" maxWidth="150"/>

                            <Label text="SzÃ­n:" GridPane.rowIndex="9" GridPane.columnIndex="0" wrapText="true"/>
                            <ColorPicker fx:id="colorPicker" GridPane.rowIndex="9" GridPane.columnIndex="1" maxWidth="150"/>

                            <Label text="MegjegyzÃ©s:" GridPane.rowIndex="10" GridPane.columnIndex="0" wrapText="true"/>
                            <TextArea fx:id="notesField" GridPane.rowIndex="10" GridPane.columnIndex="1" maxWidth="400" prefRowCount="3"/>

                            <Label text="BiztosÃ­tÃ¡s dÃ¡tuma:" GridPane.rowIndex="11" GridPane.columnIndex="0" wrapText="true"/>
                            <DatePicker fx:id="insuranceDatePicker" GridPane.rowIndex="11" GridPane.columnIndex="1" maxWidth="200"/>
                        </GridPane>

                        <Button text="MentÃ©s" onAction="#handleAddOrEditCar"
                                style="-fx-background-color: #4CAF50; -fx-text-fill: white; -fx-font-weight: bold;
                                       -fx-background-radius: 8; -fx-font-size: 14px;"/>
                    </VBox>
                </content>
            </TitledPane>

            <!-- Ãšj szerviz hozzÃ¡adÃ¡sa -->
            <TitledPane fx:id="addServicePane" text="âž• Ãšj szerviz hozzÃ¡adÃ¡sa" expanded="false"
                        style="-fx-font-weight: bold; -fx-font-size: 16px;" maxWidth="850">
                <content>
                    <VBox spacing="15" style="-fx-background-color: #ffffff; -fx-background-radius: 10;
                                   -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 10, 0, 0, 5);">
                        <padding>
                            <Insets top="20" right="20" bottom="20" left="20"/>
                        </padding>

                        <!-- KijelÃ¶lt autÃ³ label -->
                        <Label fx:id="selectedCarLabel" text="VÃ¡lassz egy autÃ³t a listÃ¡bÃ³l!"
                               style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #1e88e5;"/>

                        <GridPane hgap="15" vgap="12">
                            <columnConstraints>
                                <ColumnConstraints halignment="RIGHT" maxWidth="150"/>
                                <ColumnConstraints hgrow="ALWAYS" maxWidth="300"/>
                            </columnConstraints>

                            <Label text="Szerviz tÃ­pus:" GridPane.rowIndex="0" GridPane.columnIndex="0" wrapText="true"/>
                            <ComboBox fx:id="serviceTypeCombo" editable="true" GridPane.rowIndex="0" GridPane.columnIndex="1" maxWidth="300"/>

                            <Label text="KM:" GridPane.rowIndex="1" GridPane.columnIndex="0" wrapText="true"/>
                            <TextField fx:id="serviceKmField" GridPane.rowIndex="1" GridPane.columnIndex="1" maxWidth="150"/>

                            <Label text="Ãr (Ft):" GridPane.rowIndex="2" GridPane.columnIndex="0" wrapText="true"/>
                            <TextField fx:id="servicePriceField" GridPane.rowIndex="2" GridPane.columnIndex="1" maxWidth="150"/>

                            <Label text="CserÃ©lt alkatrÃ©szek:" GridPane.rowIndex="3" GridPane.columnIndex="0" wrapText="true"/>
                            <TextField fx:id="replacedPartsField" GridPane.rowIndex="3" GridPane.columnIndex="1" maxWidth="300"/>

                            <Label text="Szerviz dÃ¡tuma:" GridPane.rowIndex="4" GridPane.columnIndex="0" wrapText="true"/>
                            <DatePicker fx:id="serviceDatePicker" GridPane.rowIndex="4" GridPane.columnIndex="1" maxWidth="200"/>
                        </GridPane>

                        <Button text="Szerviz mentÃ©se" onAction="#saveService"
                                style="-fx-background-color: #2196F3; -fx-text-fill: white; -fx-font-weight: bold;
                           -fx-font-size: 14px; -fx-background-radius: 8;"/>
                    </VBox>
                </content>
            </TitledPane>


            <!-- AutÃ³ rÃ©szletei -->
            <TitledPane fx:id="carDetailsPane" text="ðŸš˜ AutÃ³ rÃ©szletei" expanded="false"
                        style="-fx-font-weight: bold; -fx-font-size: 16px;" maxWidth="850">
                <content>
                    <VBox spacing="15"
                          style="-fx-background-color: #ffffff; -fx-background-radius: 12;
                                 -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.1), 12, 0, 0, 6);">
                        <padding>
                            <Insets top="25" right="25" bottom="25" left="25"/>
                        </padding>

                        <Label fx:id="carDetailsLabel" text="VÃ¡lassz egy autÃ³t a listÃ¡bÃ³l!"
                               style="-fx-font-size: 20px; -fx-font-weight: bold; -fx-text-fill: #1e88e5;"/>

                        <Separator/>

                        <ListView fx:id="serviceListView" prefHeight="200"
                                  style="-fx-background-radius: 6;"/>
                    </VBox>
                </content>
            </TitledPane>

        </VBox>
    </content>
</ScrollPane>
