<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.*?>

<?import javafx.scene.image.Image?>
<HBox xmlns:fx="http://javafx.com/fxml/1"
      xmlns="http://javafx.com/javafx/24.0.1"
      fx:controller="drivesync.MainController"
      prefWidth="900" prefHeight="550">

    <!-- Bal panel – logo -->
    <StackPane prefWidth="300">
        <VBox alignment="CENTER" spacing="20" style="-fx-background-color: linear-gradient(to bottom, #FFD700, #000000);">
            <ImageView fx:id="logoImage" fitWidth="150" fitHeight="150" preserveRatio="true"/>
            <Label text="DriveSync" style="-fx-font-size:36px; -fx-text-fill:white; -fx-font-weight:bold;"/>
        </VBox>
    </StackPane>

    <!-- Jobb panel – login/register -->
    <StackPane prefWidth="600" styleClass="right-panel">

        <!-- Login pane -->
        <VBox fx:id="loginPane" alignment="CENTER" spacing="20">
            <Label text="Bejelentkezés" style="-fx-font-size:32px;" />

            <GridPane hgap="10" vgap="10" alignment="CENTER">
                <Label text="Felhasználónév:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                <TextField fx:id="loginUsername" promptText="Add meg a felhasználóneved"
                           GridPane.rowIndex="0" GridPane.columnIndex="1" />

                <Label text="Jelszó:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                <PasswordField fx:id="loginPassword" promptText="Add meg a jelszavad"
                               GridPane.rowIndex="1" GridPane.columnIndex="1" />
                <TextField fx:id="loginPasswordVisible" promptText="Add meg a jelszavad"
                           visible="false" GridPane.rowIndex="1" GridPane.columnIndex="1" />
            </GridPane>

            <VBox spacing="10" alignment="CENTER">
                <CheckBox fx:id="showLoginPasswordCheck" text="Mutasd a jelszót" />
                <CheckBox fx:id="rememberMeCheck" text="Maradjak bejelentkezve" />
                <Button fx:id="loginButton" onAction="#handleLogin" text="Bejelentkezés" prefWidth="200"/>


                <Button fx:id="googleLoginButton"
                        onAction="#handleGoogleLogin"
                        prefWidth="200"
                        prefHeight="40"
                        style="-fx-background-color: #FFD700; -fx-text-fill: black; -fx-font-weight: bold;">
                    <graphic>
                        <HBox alignment="CENTER_LEFT" spacing="10">
                            <ImageView fitWidth="20" fitHeight="20" preserveRatio="true" pickOnBounds="true">
                                <image>
                                    <Image url="@/drivesync/google_logo.png" />
                                </image>
                            </ImageView>
                            <Label text="Google-fiókkal" style="-fx-text-fill:black; -fx-font-weight:bold;" />
                        </HBox>
                    </graphic>
                </Button>




                <Hyperlink onAction="#showRegister" text="Nincs fiókod? Regisztrálj" />
            </VBox>
        </VBox>

        <!-- Register pane -->
        <VBox fx:id="registerPane" alignment="CENTER" spacing="20" visible="false">
            <Label text="Regisztráció" style="-fx-font-size:32px;" />

            <GridPane hgap="10" vgap="10" alignment="CENTER">
                <Label text="Felhasználónév:" GridPane.rowIndex="0" GridPane.columnIndex="0" />
                <TextField fx:id="regUsername" promptText="Add meg a felhasználóneved"
                           GridPane.rowIndex="0" GridPane.columnIndex="1" />

                <Label text="Email:" GridPane.rowIndex="1" GridPane.columnIndex="0" />
                <TextField fx:id="regEmail" promptText="Add meg az email címed"
                           GridPane.rowIndex="1" GridPane.columnIndex="1" />

                <Label text="Jelszó:" GridPane.rowIndex="2" GridPane.columnIndex="0" />
                <PasswordField fx:id="regPassword" promptText="Adj meg egy jelszót"
                               GridPane.rowIndex="2" GridPane.columnIndex="1" />
                <TextField fx:id="regPasswordVisible" promptText="Adj meg egy jelszót"
                           visible="false" GridPane.rowIndex="2" GridPane.columnIndex="1" />

                <Label text="Jelszó ismét:" GridPane.rowIndex="3" GridPane.columnIndex="0" />
                <PasswordField fx:id="regPasswordConfirm" promptText="Írd be újra a jelszót"
                               GridPane.rowIndex="3" GridPane.columnIndex="1" />
                <TextField fx:id="regPasswordConfirmVisible" promptText="Írd be újra a jelszót"
                           visible="false" GridPane.rowIndex="3" GridPane.columnIndex="1" />
            </GridPane>

            <VBox spacing="10" alignment="CENTER">
                <CheckBox fx:id="showPasswordCheck" text="Mutasd a jelszót" />
                <Button fx:id="registerButton" onAction="#handleRegister" text="Regisztráció" prefWidth="200"/>
                <Hyperlink onAction="#showLogin" text="Van már fiókod? Bejelentkezés" />
            </VBox>
        </VBox>

    </StackPane>

</HBox>
